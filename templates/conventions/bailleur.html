{% extends "layout/base.html" %}

{% block content %}
    <div class="fr-container-fluid ds_banner">
        <div class="fr-container">
            <form method="post" action="">
                {% csrf_token %}
                <div class="fr-grid-row fr-grid-row--gutters">
                    <div class="fr-col-12 fr-col-md-12 fr-col-lg-10 fr-col-offset-lg-1 fr-my-5w">
                        <h2>Etape {{convention_form_step}}/{{ nb_steps }} - Identité du signataire</h2>
                        {% include "common/convention_edit_info.html" with convention=convention %}
                        {% include "common/mandatory_fields_info.html" %}

                        {% include "common/form/input_text.html" with form_input=form.nom label="Nom du bailleur" mandatory=True %}

                        <div class="fr-mb-2w">
                            <div class="fr-grid-row fr-grid-row--gutters">
                                <div class="fr-col-12 fr-col-md-12 fr-col-lg-6 fr-mb-2w">
                                    {% include "common/form/input_text.html" with form_input=form.siret label="SIRET ou SIREN" mandatory=True %}
                                </div>
                                <div class="fr-col-12 fr-col-md-12 fr-col-lg-6 fr-pl-md-1w fr-mb-2w">
                                    {% include "common/form/input_text.html" with form_input=form.capital_social label="Capital social" mandatory=False %}
                                </div>
                            </div>
                        </div>

                        {% include "common/form/input_text.html" with form_input=form.adresse label="Adresse" mandatory=True %}

                        <div class="fr-mb-2w">
                            <div class="fr-grid-row fr-grid-row--gutters">
                                <div class="fr-col-12 fr-col-md-12 fr-col-lg-6 fr-mb-2w">
                                    {% include "common/form/input_text.html" with form_input=form.code_postal label="Code postal" mandatory=True %}
                                </div>
                                <div class="fr-col-12 fr-col-md-12 fr-col-lg-6 fr-pl-md-1w fr-mb-2w">
                                    {% include "common/form/input_text.html" with form_input=form.ville label="Ville" mandatory=True %}
                                </div>
                            </div>
                        </div>

                        {% include "common/form/input_text.html" with form_input=form.dg_nom label="Nom du signataire de la convention" mandatory=True %}

                        <div class="fr-mb-2w">
                            <div class="fr-grid-row fr-grid-row--gutters">
                                <div class="fr-col-12 fr-col-md-12 fr-col-lg-6 fr-mb-2w">
                                    {% include "common/form/input_text.html" with form_input=form.dg_fonction label="Fonction du signataire de la convention" mandatory=True %}
                                </div>
                                <div class="fr-col-12 fr-col-md-12 fr-col-lg-6 fr-pl-md-1w fr-mb-2w">
                                    {% include "common/form/input_date.html" with form_input=form.dg_date_deliberation label="Date de délibération" mandatory=True help="Plus d'information" help_modal='aide-ddd' %} <!-- description="Date à laquelle le signataire a reçu le mandat lui permettant de signer la convention" -->
                                    <dialog aria-labelledby="fr-modal-title-modal-1" role="dialog" id="aide-ddd" class="fr-modal">
                                        <div class="fr-container fr-container--fluid fr-container-md">
                                            <div class="fr-grid-row fr-grid-row--center">
                                                <div class="fr-col-12 fr-col-md-8 fr-col-lg-6">
                                                    <div class="fr-modal__body">
                                                        <div class="fr-modal__header">
                                                            <button class="fr-link--close fr-link" title="Fermer la fenêtre modale" aria-controls="aide-ddd" type="button">Fermer</button>
                                                        </div>
                                                        <div class="fr-modal__content">
                                                            <h1 id="fr-modal-title-modal-1" class="fr-modal__title"><span class="fr-fi-arrow-right-line fr-fi--lg"></span>Date de délibération</h1>
                                                            <p>Il s'agit de la date à laquelle le signataire a reçu le mandat lui permettant de signer la convention</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </dialog>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="fr-col-12 fr-col-md-12 fr-col-lg-10 fr-col-offset-lg-1 fr-py-5w" style="display: flex;flex-direction: row;align-items: center;justify-content: space-between;">
                    {% include "common/button/precedent.html" with precedent='conventions:selection_update' convention_uuid=convention.uuid %}
                    {% include "common/button/suivant.html" with suivant='conventions:bailleur' convention_uuid=convention.uuid %}
                </div>
            </form>
        </div>
    </div>
{% endblock %}
